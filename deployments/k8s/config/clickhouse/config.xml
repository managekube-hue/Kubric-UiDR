<?xml version="1.0"?>
<yandex>
  <logger>
    <level>information</level>
    <log>/var/log/clickhouse-server/clickhouse-server.log</log>
    <errorlog>/var/log/clickhouse-server/clickhouse-server.err.log</errorlog>
    <size>1000M</size>
    <count>10</count>
  </logger>

  <http_port>8123</http_port>
  <tcp_port>9000</tcp_port>
  <interserver_http_port>9009</interserver_http_port>

  <listen_host>::</listen_host>

  <max_connections>4096</max_connections>
  <max_concurrent_queries>100</max_concurrent_queries>
  <max_unused_watch_sockets>100</max_unused_watch_sockets>
  <uncompressed_cache_size>0</uncompressed_cache_size>
  <mark_cache_size>5368709120</mark_cache_size>
  <mmap_cache_size>30000000000</mmap_cache_size>

  <path>/var/lib/clickhouse/</path>
  <tmp_path>/var/lib/clickhouse/tmp/</tmp_path>

  <users_config>users.xml</users_config>
  <default_profile>default</default_profile>
  <default_database>default</default_database>
  <timezone>UTC</timezone>

  <macros>
    <shard>1</shard>
    <replica>1</replica>
    <cluster>kubric</cluster>
  </macros>

  <remote_servers>
    <kubric>
      <shard>
        <replica>
          <host>clickhouse</host>
          <port>9000</port>
        </replica>
      </shard>
    </kubric>
  </remote_servers>

  <zookeeper>
    <node>
      <host>zookeeper</host>
      <port>2181</port>
    </node>
  </zookeeper>
</yandex>
